/*!
 * Riloadr.js 1.5.0 (c) 2013 Tubal Martin - MIT license
 */
;!function(a){if(typeof define==="function"&&define.amd){define(a)}else{window.Riloadr=a()}}(function(){var aD="on",g="top",ax="src",W=!0,az="body",b="left",x=!1,ag=250,an=null,ak="load",aR="call",ad="apply",A="error",G="width",aE="",aM="height",al="length",r="scroll",au="offset",aJ="client",ar="resize",n=aD+ak,P=aD+A,E=aD+"abort",ae="retries",Y="minWidth",T="maxWidth",aP="complete",w="riloaded",d="fallback",av="className",u="imgFormat",aO="prototype",am="undefined",aq=r+"Top",t=aD+aP,C="readyState",a=r+"Left",j=ak+"Images",v="pageYOffset",aa="pageXOffset",af="orientation",e="attachEvent",s="EventListener",ab="getElementById",ay="documentElement",B="readystatechange",ap="querySelectorAll",k="add"+s,aQ=af+"change",aA="minDevicePixelRatio",aN="getBoundingClientRect",q,ao=window,D=ao.document,aS=D[ay],V=k in D,S=V?aE:aD,p=V?k:e,U=V?"remove"+s:"detachEvent",at=/\?/,aH=/{breakpoint-name}/gi,aK=ap in D,m=af in ao&&aD+aQ in ao,ai,F=ao.screen[G],o=ao.devicePixelRatio||1,K=K(),f=Object[aO].toString[aR](ao.operamini)==="[object OperaMini]",Z,Q;aS[av]=aS[av].replace(/(^|\s)no-js(\s|$)/,"$1$2");function J(aZ){var bl=this,a3=aZ.base||aE,a7=aZ.breakpoints||aB('"breakpoints" not defined.'),aW=aZ.name||"responsive",a5=new RegExp("(^|\\s)"+aW+"(\\s|$)"),bc=aZ.defer&&(typeof aZ.defer=="string"?{mode:aZ.defer,threshold:aZ.foldDistance,overflownElemsIds:[]}:aZ.defer),bn=bc&&bc.mode.toLowerCase(),a0=bc&&bc.threshold||100,a9=bc&&bc.overflownElemsIds,a1=aZ.watchViewportWidth,bq=!!a1,aX=a1=="wider",bs=a1=="*",bg=aZ.ignoreLowBandwidth||x,aV=aZ[ae]||0,bh=aZ.root||an,bf=(bn=="invisible"||bn=="belowfold")&&!f,br=aF(function(){bl[j]()},ag),a4=aT(function(){bq&&bp();bl[j](bq)},ag),bm=aT(function(){if(ao[af]!==Q){Q=ao[af];bl[j]()}},ag),bb=[],bk=0,bo,bi,ba={},a8,bj;function bp(){ai=aC();bo=R(a7,ai,bg);ba=bo[d]&&h(a7,bo[d]);a8=a8||bq&&l(a7);bj=aX&&H(bo,a8)}function a6(){var bt=0,bu;if(bf||bq){X(ao,ar,a4)}if(bf){X(ao,r,br);if(m){Q=ao[af];X(ao,aQ,bm)}if(a9){while(bu=a9[bt]){X(D[ab](bu),r,br);bt++}}}}function be(){var bt=0,bu;if(!bq){ac(ao,ar,a4);if(bf){ac(ao,r,br);if(a9){while(bu=a9[bt]){ac(D[ab](bu),r,br);bt++}}m&&ac(ao,aQ,bm)}}}function aY(bu,bt){bu[ae]=0;bu[d]=x;bu[n]=aU;bu[P]=bu[E]=bd;bu[ax]=aI(bu,a3,bo);bb.splice(bt,1)}function aU(){var bt=this,bu,bv;if("naturalWidth" in bt){bv=bt.naturalWidth+bt.naturalHeight}else{bu=new Image;bu[ax]=bt[ax];bv=bu[G]+bu[aM];bu=an}if(+bv>0){bt[n]=bt[P]=bt[E]=an;bt[w]&&(bt[av]=bt[av].replace(a5,"$1$2"));bf&&(bt.style.visibility="visible");n in aZ&&aZ[n][aR](bt);a2()}}function bd(){var bt=this,bu=function(bx){var bw=new Image;bw[n]=function(){bt[ax]=bw[ax];aU[aR](bt)};bw[P]=bt[E]=function(){bd[aR](bt)};bw[ax]=bx},bv;bt[n]=bt[P]=bt[E]=an;P in aZ&&aZ[P][aR](bt);if(bt[ae]<aV){bt[ae]++;bv=aI(bt,a3,(bt[d]?ba:bo),W);bu(bv)}else{if(d in bo&&!bt[d]){bt[ae]=0;bt[d]=W;bv=aI(bt,a3,ba);bu(bv)}else{a2()}}}function a2(){bk--;if(bk===0){be();t in aZ&&aZ[t]()}}bl[j]=function(bt){aj(function(bw,bv,bu){if(!bb[al]||bt===W){bt&&a6();bw=aK&&bh[ap]("img."+aW)||bh.getElementsByTagName("img");bu=0;while(bv=bw[bu]){if(bv&&!bv[w]&&(aK||bv[av].indexOf(aW)>=0)){if(!bq||bq&&(!bi||(aX&&i(bo,bi)||bs&&!H(bo,bi)))){bb.push(bv);bk++}if(!bq||bj){bv[w]=W}}bu++}if(bq){if(bj){bq=x}bi=bo}}if(bb[al]){bu=0;while(bv=bb[bu]){if(bv&&(!bf||(bf&&aw(bv,a0)))){aY(bv,bu);bu--}bu++}}bw=bv=an})};Z(function(){q=D[az];bh=D[ab](bh)||q;bp();a6();if(!bn||bf){bl[j]()}else{y(bl[j])}})}J.version="1.5.0";J[aO].riload=function(){this[j](W)};function R(aY,aU,a3){var aZ=aU,aW=0,a0={},a2,aV,a1,aX;while(a2=aY[aW]){aV=a2[Y];a1=a2[T];aX=a2[aA];if(aU>0){if(aV&&a1&&aU>=aV&&aU<=a1||aV&&!a1&&aU>=aV||a1&&!aV&&aU<=a1){if(!aX||aX&&o>=aX&&(a3||!a3&&!K)){a0=a2}}}else{if(aZ<=0||aV<aZ||a1<aZ){aZ=aV||a1||aZ;a0=a2}}aW++}return a0}function l(aW){var aV=0,aU={},aX;while(aX=aW[aV]){i(aX,aU)&&(aU=aX);aV++}return aU}function h(aV,aX){var aU=0,aW;while(aW=aV[aU]){if(aW.name==aX){return aW}aU++}}function H(aV,aU){return aV.name===aU.name&&aV[Y]===aU[Y]&&aV[T]===aU[T]&&aV[aA]===aU[aA]&&aV[u]===aU[u]}function i(aV,aU){var aW=+aV[aA]||1,aX=+aU[aA]||1;aV=Math.max(+aV[Y]||0,+aV[T]||0)*(o>=aW?aW:1);aU=Math.max(+aU[Y]||0,+aU[T]||0)*(o>=aX?aX:1);return aV>aU}function aC(){var aZ=Math,aY=[aS.clientWidth,aS.offsetWidth,q.clientWidth],aX=aZ.ceil(F),aU=aY[al],aV=0,aW;for(;aV<aU;aV++){if(isNaN(aY[aV])){aY.splice(aV,1);aV--}}if(aY[al]){aW=aZ.max[ad](aZ,aY);if(!isNaN(aX)){aW=aZ.min(aX,aW)}}return aW||aX||0}function aI(aV,aX,aU,aW){var aY=(aV.getAttribute("data-base")||aX)+(aV.getAttribute("data-src")||aV.getAttribute("data-src-"+aU.name)||aE);if(aU[u]){aY=aY.split(".");aY.pop();aY=aY.join(".")+"."+aU[u]}if(aW){aY+=(at.test(aY)?"&":"?")+"riloadrts="+(new Date).getTime()}return aY.replace(aH,aU.name)}function K(){var aU=ao.navigator,aV=aU.connection||aU.mozConnection||aU.webkitConnection||aU.oConnection||aU.msConnection||{},aX=aV.type||"unknown",aW=+aV.bandwidth||Infinity;return aW>0&&aW<0.1||/^[23]g|3|4$/.test(aX+aE)}function aw(aV,aU){return !aG(aV,aU)&&!L(aV,aU)&&!z(aV,aU)&&!M(aV,aU)}function aG(aV,aU){return O(aM,ao)+I(g,ao)<=aL(g,aV)-aU}function L(aV,aU){return I(g,ao)>=aL(g,aV)+aU+O(aM,aV)}function z(aV,aU){return O(G,ao)+I(b,ao)<=aL(b,aV)-aU}function M(aV,aU){return I(b,ao)>=aL(b,aV)+aU+O(G,aV)}function aL(aU,aX){var aW={top:0,left:0},aZ=aX&&aX.ownerDocument,aY,aV;if(!aZ){return}if(typeof aX[aN]!==am){aW=aX[aN]()}aY=ah(aZ);aV={top:aW[g]+(aY[v]||aS[aq])-(aS.clientTop||0),left:aW[b]+(aY[aa]||aS[a])-(aS.clientLeft||0)};return aV[aU]}function I(aU,aV){var aX={top:{method:aq,prop:v},left:{method:a,prop:aa}},aZ=aX[aU].method,aY=aX[aU].prop,aW=ah(aV);return aW?(aY in aW)?aW[aY]:aS[aZ]:aV[aZ]}function O(aU,aW){var aY={height:"Height",width:"Width"},aX,aZ,aV;aU=aY[aU];if(N(aW)){return aS[aJ+aU]}aZ=aW[au+aU];aU=aU.toLowerCase();if(aZ<=0||aZ==an){if(ao.getComputedStyle){aV=ao.getComputedStyle(aW,an)}else{if(aS.currentStyle){aV=aW.currentStyle}}if(aV){aZ=aV[aU]}if(aZ<0||aZ==an){aZ=aW.style[aU]}}return parseFloat(aZ)||0}function N(aU){return aU!=an&&aU==aU.window}function ah(aU){return N(aU)?aU:aU.nodeType===9?aU.defaultView||aU.parentWindow:x}function aF(aZ,a0){var aX,aU,aV,a1,aW=0;function aY(){aW=new Date;a1=an;aZ[ad](aV,aX)}return function(){var a2=new Date,a3=a0-(a2-aW);aX=arguments;aV=this;if(a3<=0){aW=a2;aU=aZ[ad](aV,aX)}else{if(!a1){a1=c(aY,a3)}}return aU}}function aT(aZ,a0,aW){var aY,aU,aV,a1;function aX(){a1=an;if(!aW){aZ[ad](aV,aY)}}return function(){var a2=aW&&!a1;aY=arguments;aV=this;clearTimeout(a1);a1=c(aX,a0);if(a2){aU=aZ[ad](aV,aY)}return aU}}function c(aV,aW){var aU=Array[aO].slice[aR](arguments,2);return ao.setTimeout(function(){return aV[ad](an,aU)},aW)}function aj(aU){return c[ad](an,[aU,1].concat(Array[aO].slice[aR](arguments,1)))}function aB(aU){throw new Error("Riloadr: "+aU)}function X(aW,aV,aU){aW[p](S+aV,aU,x)}function ac(aW,aV,aU){aW[U](S+aV,aU,x)}Z=(function(){var aY="DOMContentLoaded",a0=x,aZ=x,aX=[];function a2(a3){if(!aZ){if(!D[az]){return aj(a2)}aZ=W;while(a3=aX.shift()){aj(a3)}}}function aV(a3){if(V||a3.type===ak||D[C]===aP){a1();a2()}}function a1(){ac(D,V?aY:B,aV);ac(ao,ak,aV)}if(D[C]===aP){aj(a2)}else{if(V){X(D,aY,aV)}else{X(D,B,aV);try{a0=ao.frameElement==an&&docElem}catch(aW){}if(a0&&a0.doScroll){(function aU(){if(!aZ){try{a0.doScroll("left")}catch(a3){return c(aU,50)}a1();a2()}})()}}X(ao,ak,aV)}return function(a3){aZ?aj(a3):aX.push(a3)}}());function y(aU){if(D[C]===aP){aj(aU)}else{var aV=function(){ac(ao,ak,aV);aj(aU)};X(ao,ak,aV)}}return J});